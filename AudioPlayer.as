package  {	import flash.net.URLLoader;	import flash.events.Event;	import flash.media.Sound;	import flash.media.SoundChannel;	import flash.media.SoundTransform;	import flash.events.EventDispatcher;		public class AudioPlayer extends EventDispatcher {				private var list:Playlist = null;		private var currentItem:int = -1;		private var currentSound:Sound = null;		private var currentChannel:SoundChannel;				private var playing:Boolean = false;				public function AudioPlayer(applicationInstance:SoundStream) {					}				public function next():Boolean {			if(currentItem < 0) return this.setItemNumber(0);			return setItemNumber(this.currentItem+1);		}				public function previous():Boolean {			return this.setItemNumber(this.currentItem-1);		}				public function setItemNumber(i:uint):Boolean {			if(i > list.getLength()-1 || i < 0) return false;			this.currentItem = i;			return true;		}				public function setPlaylist(list:Playlist) {			this.pause();			this.list = list;			this.currentItem = -1;		}				public function play():void {			if(this.currentItem < 0) this.next();						this.playing = true;			var track:Sound = this.list.getTrack(this.currentItem) as Sound;			trace("PLAY");			this.currentChannel = track.play();			this.currentChannel.soundTransform = new SoundTransform();		}				public function pause() {			if(!this.playing) return;			this.playing = false;		}				public function setPan(pan:Number):void {			var s:SoundTransform = new SoundTransform();			s.pan = pan;			this.currentChannel.soundTransform = s;		}				public function setVolume(vol:Number):void {			var s:SoundTransform = new SoundTransform();			s.volume = vol;			this.currentChannel.soundTransform = s;		}	}	}